<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Trevor's Portfolio Page: Portfolio Home</title>
		<meta charset="UTF-8" />
		<link rel="stylesheet" href="../Style/style.css" />
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
	<body>
        <div id="app">
		<header>
			<h1>Trevor's Portfolio Page</h1>
			<nav>
				<a href="../index.html">Home</a> |
				<a href="about.html">About</a> |
				<div class="dropdown">
					<span><a href="">Portfolio Work</a></span>
					<div class="dropdown-content">
                        <a href="#" @click="loadPage('gladskin.html')">GladskinMD</a><br>
                        <a href="#" @click="loadPage('exactrac.html')">ExacTrac</a><br>
                        <a href="#" @click="loadPage('starwars.html')">Star Wars Short</a><br>
                        <a href="#" @click="loadPage('callOfDutyVanguard.html')">Call Of Duty: VANGUARD</a><br>
                        <a href="#" @click="loadPage('highsidin.html')">High Sidin': Hyphy Edition</a><br>
					</div>
				</div>
				|
				<a href="socials.html"> Socials</a>
			</nav>
		</header>
		<main>
            <main>
                <div v-html="pageContent"></div>
            </main>
        </div>
        <script>
            const app = new Vue({
                el: '#app',
                data: {
                    pageContent: '<img src="../images/portfolioImage.png" style="display: block; margin: auto;" alt="Portfolio Image" width="200" height="200"/><h3>Nothing selected. Please select a Portfolio piece to load into this section of the page.</h3>'
                },
                methods: {
                    loadPage(page) {
                        fetch(page)
                            .then(response => response.text())
                            .then(html => {
                                this.pageContent = html;
                                this.$nextTick(() => {
                                    this.executeInjectedCode();
                                });
                            })
                            .catch(error => {
                                console.error('Error loading page:', error);
                            });
                    },
                    executeInjectedCode() {
                        const scriptElements = document.querySelectorAll('#app script');
                        scriptElements.forEach(script => {
                            const scriptContent = script.innerHTML;
                            eval(scriptContent);
                        });
                        const images = Array.from(document.querySelectorAll('.specialObj'));
                        const previousButton = document.querySelector('#previousButton');
                        const nextButton = document.querySelector('#nextButton');
    
                        let currentImageIndex = 0;
    
                        images.forEach((image, index) => {
                            if (index !== currentImageIndex) {
                                image.style.display = 'none';
                            }
                        });
    
                        function showPreviousImage() {
                            if (currentImageIndex > 0) {
                                images[currentImageIndex].style.display = 'none';
                                currentImageIndex--;
                                images[currentImageIndex].style.display = 'block';
                            }
                        }
    
                        function showNextImage() {
                            if (currentImageIndex < images.length - 1) {
                                images[currentImageIndex].style.display = 'none';
                                currentImageIndex++;
                                images[currentImageIndex].style.display = 'block';
                            }
                        }
    
                        previousButton.addEventListener('click', showPreviousImage);
                        nextButton.addEventListener('click', showNextImage);
                    }
                }
            });
        </script>
		</main>
		<footer>
			Trevor Cardoza's Portfolio.
		</footer>
	</body>
</html>
